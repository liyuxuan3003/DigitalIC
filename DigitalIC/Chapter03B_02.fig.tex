\documentclass{xStandalone}

\begin{document}
\begin{tikzpicture}

\xValDefine{xL}[-3.0]
\xValDefine{xR}[+3.0]
\xValProportion{xGL}{xL}{xR}[1/3]
\xValProportion{xGR}{xL}{xR}[2/3]
\xValOffset{xSL}{xL}
\xValOffset{xSR}{xGL}
\xValOffset{xDL}{xGR}
\xValOffset{xDR}{xR}
\xValMiddle{xS}{xSL}{xSR}
\xValMiddle{xG}{xGL}{xGR}
\xValMiddle{xD}{xDL}{xDR}
\xValMiddle{xB}{xL}{xR}

\xValDefine{yB}[0.0]
\xValDefine{yA}[2.0]
\xValOffset{yPin}{yA}[1.0]
\xValOffset{ySiO2}{yA}[0.5]
\xValProportion{yDope}{yA}{yB}[0.4]
\xValOffset{yPinBelow}{yB}[-1.0]

\xGeneratePoints{xL,xR,xGL,xGR,xSL,xSR,xDL,xDR,xS,xD,xG,xB}{yB,yA,yPin,ySiO2,yDope,yPinBelow}

\draw[fill=mnmP2] (xL/yB) rectangle node[below,white] {$p$}  (xR/yA);

\draw[fill=mnmN0] (xSL/yDope) rectangle node[white] {$n^{+}$} (xSR/yA);
\draw[fill=mnmN0] (xDL/yDope) rectangle node[white] {$n^{+}$} (xDR/yA);

\draw[fill=mnmSiO2] (xGL/yA) rectangle node[black] {\ce{SiO2}} (xGR/ySiO2);

\draw (xS/yA) -- (xS/yPin) node[ocirc] {} node[above] {S};
\draw (xD/yA) -- (xD/yPin) node[ocirc] {} node[above] {D};
\draw (xG/ySiO2) -- (xG/yPin) node[ocirc] {} node[above] {G};
\draw (xB/yB) -- (xB/yPinBelow) node[ocirc] {} node[below] {B};

\end{tikzpicture}
\end{document}